<h2 align="center">ğŸ“¸ Káº¿t quáº£ hiá»ƒn thá»‹</h2>
<h2 align=""center">ğŸ›¡ï¸ á»¨NG Dá»¤NG Báº¢O Máº¬T Máº¬T KHáº¨U NGÆ¯á»œI DÃ™NG Báº°NG SHA-256 VÃ€ TRIPLE DES TRONG FLASK</h2>
<h2>âœ¨ Giá»›i thiá»‡u</h2>
Trong ká»· nguyÃªn sá»‘ hÃ³a hiá»‡n nay, viá»‡c báº£o vá»‡ dá»¯ liá»‡u cÃ¡ nhÃ¢n, Ä‘áº·c biá»‡t lÃ  thÃ´ng tin Ä‘Äƒng nháº­p nhÆ° máº­t kháº©u, Ä‘Ã£ trá»Ÿ thÃ nh Æ°u tiÃªn hÃ ng Ä‘áº§u. CÃ¡c cuá»™c táº¥n cÃ´ng máº¡ng nháº±m vÃ o máº­t kháº©u Ä‘ang ngÃ y cÃ ng tinh vi, Ä‘áº·t ra thÃ¡ch thá»©c lá»›n cho cÃ¡c há»‡ thá»‘ng pháº§n má»m. Dá»± Ã¡n nÃ y táº­p trung vÃ o viá»‡c xÃ¢y dá»±ng má»™t há»‡ thá»‘ng xÃ¡c thá»±c ngÆ°á»i dÃ¹ng an toÃ n, sá»­ dá»¥ng cÃ¡c thuáº­t toÃ¡n máº­t mÃ£ máº¡nh máº½ lÃ  SHA-256 Ä‘á»ƒ bÄƒm máº­t kháº©u vÃ  Triple DES (3DES) Ä‘á»ƒ mÃ£ hÃ³a lá»›p cuá»‘i cÃ¹ng, Ä‘áº£m báº£o máº­t kháº©u khÃ´ng bao giá» Ä‘Æ°á»£c lÆ°u trá»¯ dÆ°á»›i dáº¡ng vÄƒn báº£n thuáº§n trong cÆ¡ sá»Ÿ dá»¯ liá»‡u.

Há»‡ thá»‘ng Ä‘Æ°á»£c phÃ¡t triá»ƒn trÃªn ná»n táº£ng Python vÃ  Flask Framework, káº¿t ná»‘i vá»›i MS SQL Server. NgoÃ i viá»‡c Ã¡p dá»¥ng cÃ¡c thuáº­t toÃ¡n máº­t mÃ£, dá»± Ã¡n cÃ²n tÃ­ch há»£p cÃ¡c tÃ­nh nÄƒng báº£o máº­t thiáº¿t yáº¿u nhÆ° sá»­ dá»¥ng Salt ngáº«u nhiÃªn cho má»—i máº­t kháº©u, káº¿t há»£p tÃªn Ä‘Äƒng nháº­p vÃ o quÃ¡ trÃ¬nh bÄƒm, vÃ  cÆ¡ cháº¿ tá»± Ä‘á»™ng khÃ³a tÃ i khoáº£n khi cÃ³ nhiá»u láº§n Ä‘Äƒng nháº­p tháº¥t báº¡i.

Má»¥c tiÃªu cá»§a dá»± Ã¡n lÃ  khÃ´ng chá»‰ cung cáº¥p má»™t giáº£i phÃ¡p thá»±c tiá»…n cho váº¥n Ä‘á» báº£o máº­t máº­t kháº©u mÃ  cÃ²n lÃ  cÆ¡ há»™i Ä‘á»ƒ tÃ¬m hiá»ƒu sÃ¢u hÆ¡n vá» cÆ¡ cháº¿ hoáº¡t Ä‘á»™ng, Æ°u nhÆ°á»£c Ä‘iá»ƒm vÃ  cÃ¡ch thá»©c triá»ƒn khai cá»§a cÃ¡c thuáº­t toÃ¡n máº­t mÃ£ quan trá»ng, gÃ³p pháº§n nÃ¢ng cao nháº­n thá»©c vÃ  ká»¹ nÄƒng trong lÄ©nh vá»±c an toÃ n thÃ´ng tin.
<h2>ğŸ›ï¸ Kiáº¿n trÃºc Há»‡ thá»‘ng vÃ  CÃ´ng nghá»‡ Sá»­ dá»¥ng</h2>
Há»‡ thá»‘ng Ä‘Æ°á»£c thiáº¿t káº¿ theo kiáº¿n trÃºc phÃ¢n táº§ng (Multi-tier Architecture), bao gá»“m cÃ¡c thÃ nh pháº§n chÃ­nh sau:<br>
<strong>1. Táº§ng Giao diá»‡n NgÆ°á»i dÃ¹ng (Frontend):</strong><br>

- <strong>HTML/CSS/JavaScript:</strong> ÄÆ°á»£c sá»­ dá»¥ng Ä‘á»ƒ xÃ¢y dá»±ng giao diá»‡n web Ä‘á»™ng vÃ  thÃ¢n thiá»‡n vá»›i ngÆ°á»i dÃ¹ng.<br>

<strong>2. Táº§ng á»¨ng dá»¥ng (Backend - Logic):</strong><br>

- <strong>Python:</strong> NgÃ´n ngá»¯ láº­p trÃ¬nh chÃ­nh cá»§a á»©ng dá»¥ng.<br>
- <strong>Flask Framework:</strong> Micro-framework web Ä‘á»ƒ xÃ¢y dá»±ng cÃ¡c API vÃ  xá»­ lÃ½ logic nghiá»‡p vá»¥.<br>
- <strong>Flask-Login:</strong> Extension cá»§a Flask Ä‘á»ƒ quáº£n lÃ½ phiÃªn Ä‘Äƒng nháº­p vÃ  xÃ¡c thá»±c ngÆ°á»i dÃ¹ng.<br>
- <strong>Flask-SQLAlchemy:</strong> Extension cá»§a Flask Ä‘á»ƒ tÃ­ch há»£p SQLAlchemy (Object Relational Mapper - ORM), giÃºp tÆ°Æ¡ng tÃ¡c vá»›i cÆ¡ sá»Ÿ dá»¯ liá»‡u.<br>
- <strong>PyCryptodome:</strong> ThÆ° viá»‡n máº­t mÃ£ chuyÃªn dá»¥ng cung cáº¥p cÃ¡c cÃ i Ä‘áº·t cho Triple DES.<br>
- <strong>hashlib (Built-in Python):</strong> ThÆ° viá»‡n chuáº©n cá»§a Python Ä‘á»ƒ thá»±c hiá»‡n cÃ¡c phÃ©p bÄƒm SHA-256.<br>

<strong>3. Táº§ng CÆ¡ sá»Ÿ Dá»¯ liá»‡u (Database):</strong><br>

<strong>Microsoft SQL Server:</strong> Há»‡ quáº£n trá»‹ cÆ¡ sá»Ÿ dá»¯ liá»‡u quan há»‡ Ä‘Æ°á»£c sá»­ dá»¥ng Ä‘á»ƒ lÆ°u trá»¯ thÃ´ng tin ngÆ°á»i dÃ¹ng vÃ  nháº­t kÃ½ hoáº¡t Ä‘á»™ng.<br>
<h2>âš™ï¸ TrÃ¬nh bÃ y Ká»¹ thuáº­t Chi tiáº¿t</h2>
<strong>ğŸ“‚ 1. Cáº¥u trÃºc ThÆ° má»¥c Dá»± Ã¡n</strong><br>
Cáº¥u trÃºc thÆ° má»¥c cá»§a dá»± Ã¡n Ä‘Æ°á»£c tá»• chá»©c má»™t cÃ¡ch rÃµ rÃ ng Ä‘á»ƒ dá»… quáº£n lÃ½ vÃ  má»Ÿ rá»™ng:
<pre>
Project/
â”œâ”€â”€ __pycache__/                  (CÃ¡c file cache cá»§a Python)
â”œâ”€â”€ routes/                       (Module Ä‘á»‹nh tuyáº¿n vÃ  xá»­ lÃ½ yÃªu cáº§u HTTP)
â”‚   â”œâ”€â”€ __pycache__/
â”‚   â”œâ”€â”€ __init__.py               (Khá»Ÿi táº¡o package routes)
â”‚   â”œâ”€â”€ admin.py                  (Äá»‹nh nghÄ©a cÃ¡c route vÃ  logic cho trang quáº£n trá»‹)
â”‚   â”œâ”€â”€ auth.py                   (Äá»‹nh nghÄ©a cÃ¡c route vÃ  logic cho xÃ¡c thá»±c: Ä‘Äƒng kÃ½, Ä‘Äƒng nháº­p)
â”‚   â””â”€â”€ main.py                   (Äá»‹nh nghÄ©a cÃ¡c route vÃ  logic chung cá»§a á»©ng dá»¥ng)
â”œâ”€â”€ templates/                    (Chá»©a cÃ¡c file HTML giao diá»‡n ngÆ°á»i dÃ¹ng)
â”‚   â”œâ”€â”€ admin/                    (CÃ¡c template dÃ nh cho trang quáº£n trá»‹)
â”‚   â”‚   â”œâ”€â”€ dashboard.html        (Trang tá»•ng quan quáº£n trá»‹)
â”‚   â”‚   â”œâ”€â”€ login_logs.html       (Trang hiá»ƒn thá»‹ lá»‹ch sá»­ Ä‘Äƒng nháº­p)
â”‚   â”‚   â”œâ”€â”€ reset_password.html   (Trang Ä‘áº·t láº¡i máº­t kháº©u cho tÃ i khoáº£n bá»‹ khÃ³a/quÃªn)
â”‚   â”‚   â””â”€â”€ users.html            (Trang quáº£n lÃ½ danh sÃ¡ch ngÆ°á»i dÃ¹ng)
â”‚   â”œâ”€â”€ 404.html                  (Trang bÃ¡o lá»—i khÃ´ng tÃ¬m tháº¥y tÃ i nguyÃªn)
â”‚   â”œâ”€â”€ change_password.html      (Trang Ä‘á»•i máº­t kháº©u cá»§a ngÆ°á»i dÃ¹ng)
â”‚   â”œâ”€â”€ dashboard.html            (Trang tá»•ng quan sau khi ngÆ°á»i dÃ¹ng Ä‘Äƒng nháº­p)
â”‚   â”œâ”€â”€ layout.html               (Template bá»‘ cá»¥c chung cá»§a trang web, chá»©a header, footer, navigation)
â”‚   â”œâ”€â”€ login.html                (Trang Ä‘Äƒng nháº­p)
â”‚   â””â”€â”€ register.html             (Trang Ä‘Äƒng kÃ½ tÃ i khoáº£n)
â””â”€â”€ utils/                        (Chá»©a cÃ¡c module tiá»‡n Ã­ch, thÆ° viá»‡n dÃ¹ng chung)
    â”œâ”€â”€ __pycache__/
    â”œâ”€â”€ security.py                 (Chá»©a cÃ¡c hÃ m xá»­ lÃ½ báº£o máº­t: bÄƒm SHA, mÃ£ hÃ³a/giáº£i mÃ£ Triple DES, sinh Salt)
    â”œâ”€â”€ app.py                      (File cáº¥u hÃ¬nh vÃ  khá»Ÿi táº¡o á»©ng dá»¥ng chÃ­nh)
    â”œâ”€â”€ config.py                   (Chá»©a cÃ¡c biáº¿n cáº¥u hÃ¬nh há»‡ thá»‘ng: chuá»—i káº¿t ná»‘i DB, khÃ³a bÃ­ máº­t)
    â”œâ”€â”€ database.py                 (Module quáº£n lÃ½ káº¿t ná»‘i vÃ  thao tÃ¡c vá»›i cÆ¡ sá»Ÿ dá»¯ liá»‡u)
    â””â”€â”€ models.py                   (Äá»‹nh nghÄ©a cÃ¡c mÃ´ hÃ¬nh dá»¯ liá»‡u, tÆ°Æ¡ng á»©ng vá»›i báº£ng trong DB)
</pre>


<strong>2. ğŸ”‘ 2. Quáº£n lÃ½ Cáº¥u hÃ¬nh (config.py) </strong><br>
File config.py chá»©a cÃ¡c biáº¿n mÃ´i trÆ°á»ng vÃ  cáº¥u hÃ¬nh quan trá»ng cho á»©ng dá»¥ng:<br>

- <strong>SECRET_KEY:</strong> KhÃ³a bÃ­ máº­t dÃ¹ng Ä‘á»ƒ báº£o vá»‡ session cá»§a Flask.<br>
- <strong>SQLALCHEMY_DATABASE_URI:</strong> Chuá»—i káº¿t ná»‘i Ä‘áº¿n MS SQL Server, sá»­ dá»¥ng pyodbc vÃ  xÃ¡c thá»±c Windows (trusted_connection=yes).<br>
- <strong>TRIPLE_DES_KEY:</strong> KhÃ³a 24 byte cho thuáº­t toÃ¡n Triple DES.<br>
- <strong>Flask-SQLAlchemy:</strong> Extension cá»§a Flask Ä‘á»ƒ tÃ­ch há»£p SQLAlchemy (Object Relational Mapper - ORM), giÃºp tÆ°Æ¡ng tÃ¡c vá»›i cÆ¡ sá»Ÿ dá»¯ liá»‡u.<br>
- <strong>TRIPLE_DES_IV:</strong> Vector Khá»Ÿi táº¡o 8 byte cho Triple DES (lÆ°u Ã½: trong mÃ´i trÆ°á»ng thá»±c táº¿, IV cáº§n Ä‘Æ°á»£c táº¡o ngáº«u nhiÃªn cho má»—i láº§n mÃ£ hÃ³a).<br>
- <strong>MAX_FAILED_ATTEMPTS:</strong> Sá»‘ láº§n Ä‘Äƒng nháº­p sai tá»‘i Ä‘a trÆ°á»›c khi tÃ i khoáº£n bá»‹ khÃ³a.<br>

<strong>ğŸ“Š 3. Äá»‹nh nghÄ©a MÃ´ hÃ¬nh Dá»¯ liá»‡u (models.py)</strong></br>
File models.py Ä‘á»‹nh nghÄ©a cáº¥u trÃºc cá»§a cÃ¡c báº£ng trong cÆ¡ sá»Ÿ dá»¯ liá»‡u thÃ´ng qua Flask-SQLAlchemy.</br>

- <strong>User Model:</strong> Ãnh xáº¡ tá»›i báº£ng users, chá»©a cÃ¡c trÆ°á»ng nhÆ° id, username, salt, encrypted_password, fail_attempts, is_locked, created_at, updated_at.<br>
- salt (String(64)): LÆ°u salt ngáº«u nhiÃªn cho máº­t kháº©u.<br>
- encrypted_password (String(256)): LÆ°u máº­t kháº©u sau khi bÄƒm vÃ  mÃ£ hÃ³a.<br>
- fail_attempts (Integer): Äáº¿m sá»‘ láº§n Ä‘Äƒng nháº­p sai.<br>
- is_locked (Boolean): Tráº¡ng thÃ¡i khÃ³a tÃ i khoáº£n.<br>
- UserMixin: Cung cáº¥p cÃ¡c thuá»™c tÃ­nh cáº§n thiáº¿t cho Flask-Login.<br>
- <strong>LoginLog Model:</strong> Ãnh xáº¡ tá»›i báº£ng login_logs, ghi láº¡i cÃ¡c sá»± kiá»‡n Ä‘Äƒng nháº­p vá»›i cÃ¡c trÆ°á»ng id, user_id, username, login_time, status, ip_address<br>
 <strong>ğŸš€ MÃ´ hÃ¬nh CSDL</strong>
 <td align="center">
      <img src="https://github.com/Thuhuyen8324/Ung-dung-SHA-va-Triple-DES-de-bao-mat-mat-khau-nguoi-dung-trong-co-so-du-lieu/blob/main/Anh/giaodienAdmin.jpg" alt="mÃ n hÃ¬nh Ä‘iá»n thÃ´ng tin" width="100%"><br>
    </td>
<strong>ğŸ” 4. CÃ¡c HÃ m Báº£o máº­t vÃ  Xá»­ lÃ½ Máº­t kháº©u (utils/security.py)</strong></br>
File nÃ y chá»©a cÃ¡c hÃ m cá»‘t lÃµi Ä‘á»ƒ báº£o vá»‡ máº­t kháº©u, Ä‘áº£m báº£o dá»¯ liá»‡u Ä‘Æ°á»£c xá»­ lÃ½ an toÃ n trÆ°á»›c khi lÆ°u trá»¯.</br>


- generate_salt(length=32): Táº¡o má»™t chuá»—i salt ngáº«u nhiÃªn 32 byte (chuyá»ƒn thÃ nh 64 kÃ½ tá»± hex) báº±ng os.urandom().<br>
- hash_sha256(data: str): BÄƒm dá»¯ liá»‡u Ä‘áº§u vÃ o báº±ng SHA-256, tráº£ vá» chuá»—i hex 64 kÃ½ tá»±.<br>
- encrypt_3des(data_bytes: bytes): MÃ£ hÃ³a chuá»—i byte báº±ng Triple DES á»Ÿ cháº¿ Ä‘á»™ CBC, sá»­ dá»¥ng TRIPLE_DES_KEY vÃ  TRIPLE_DES_IV. Dá»¯ liá»‡u Ä‘Æ°á»£c pad trÆ°á»›c khi mÃ£ hÃ³a vÃ  káº¿t quáº£ Ä‘Æ°á»£c base64.b64encode Ä‘á»ƒ lÆ°u trá»¯.<br>
- decrypt_3des(encrypted_data_b64: str): Giáº£i mÃ£ chuá»—i Base64 Ä‘Ã£ mÃ£ hÃ³a báº±ng 3DES, sau Ä‘Ã³ unpad Ä‘á»ƒ khÃ´i phá»¥c dá»¯ liá»‡u gá»‘c.<br>
- process_password_for_storage(username: str, password: str, salt: str): Quy trÃ¬nh chÃ­nh Ä‘á»ƒ chuáº©n bá»‹ máº­t kháº©u lÆ°u trá»¯:<br>
hash_sha256(password + salt)

1. hash_sha256(username)

2. Ná»‘i hai káº¿t quáº£ vÃ  bÄƒm láº¡i báº±ng hash_sha256.

3. MÃ£ hÃ³a káº¿t quáº£ bÄƒm cuá»‘i cÃ¹ng báº±ng encrypt_3des.
- verify_password(username: str, password_input: str, stored_salt: str, stored_encrypted_password: str): XÃ¡c minh máº­t kháº©u báº±ng cÃ¡ch cháº¡y máº­t kháº©u nháº­p vÃ o qua cÃ¹ng quy trÃ¬nh process_password_for_storage vÃ  so sÃ¡nh káº¿t quáº£ vá»›i máº­t kháº©u Ä‘Ã£ lÆ°u.
<strong>â¡ï¸ 5. Luá»“ng ÄÄƒng nháº­p vÃ  XÃ¡c thá»±c (routes/auth.py)</strong></br>
Module auth.py xá»­ lÃ½ cÃ¡c yÃªu cáº§u Ä‘Äƒng kÃ½ vÃ  Ä‘Äƒng nháº­p ngÆ°á»i dÃ¹ng.</br>

- Khi Ä‘Äƒng kÃ½, máº­t kháº©u ngÆ°á»i dÃ¹ng Ä‘Æ°á»£c xá»­ lÃ½ bá»Ÿi process_password_for_storage trÆ°á»›c khi lÆ°u.<br>
- Khi Ä‘Äƒng nháº­p, máº­t kháº©u nháº­p vÃ o Ä‘Æ°á»£c xÃ¡c minh báº±ng verify_password.<br>
- Há»‡ thá»‘ng kiá»ƒm soÃ¡t sá»‘ láº§n Ä‘Äƒng nháº­p tháº¥t báº¡i. Náº¿u vÆ°á»£t quÃ¡ MAX_FAILED_ATTEMPTS, tÃ i khoáº£n sáº½ bá»‹ khÃ³a.<br>
- Má»i ná»— lá»±c Ä‘Äƒng nháº­p (thÃ nh cÃ´ng hay tháº¥t báº¡i) Ä‘á»u Ä‘Æ°á»£c ghi láº¡i vÃ o báº£ng login_logs.<br>
    </td>
<table align="center">
  <td align="center">
      <img src="https://github.com/Thuhuyen8324/Ung-dung-SHA-va-Triple-DES-de-bao-mat-mat-khau-nguoi-dung-trong-co-so-du-lieu/blob/main/Anh/dk.jpg" alt="mÃ n hÃ¬nh Ä‘iá»n thÃ´ng tin" width="100%"><br>
      <strong>MÃ n hÃ¬nh giao diá»‡n ÄÄƒng kÃ½</strong>
    </td>
    <td align="center">
      <img src="https://github.com/Thuhuyen8324/Ung-dung-SHA-va-Triple-DES-de-bao-mat-mat-khau-nguoi-dung-trong-co-so-du-lieu/blob/main/Anh/login.jpg" alt="Káº¿t quáº£ tÃ­nh toÃ¡n" width="100%"><br>
      <strong>MÃ n hÃ¬nh giao diá»‡n ÄÄƒng nháº­p</strong>
    </td>
  </tr>
</table>

  <tr>
    <td align="center">
      <img src="https://github.com/Thuhuyen8324/Ung-dung-SHA-va-Triple-DES-de-bao-mat-mat-khau-nguoi-dung-trong-co-so-du-lieu/blob/main/Anh/giaodienAdmin.jpg" alt="mÃ n hÃ¬nh Ä‘iá»n thÃ´ng tin" width="100%"><br>
      <strong>MÃ n hÃ¬nh giao diá»‡n Admin</strong>
    </td>
    <td align="center">
      <img src="https://github.com/Thuhuyen8324/Ung-dung-SHA-va-Triple-DES-de-bao-mat-mat-khau-nguoi-dung-trong-co-so-du-lieu/blob/main/Anh/giaodienND.jpg" alt="Káº¿t quáº£ tÃ­nh toÃ¡n" width="100%"><br>
      <strong>MÃ n hÃ¬nh giao diá»‡n ngÆ°á»i dÃ¹ng</strong>
    </td>
  </tr>
   <td align="center">
      <img src="https://github.com/Thuhuyen8324/Ung-dung-SHA-va-Triple-DES-de-bao-mat-mat-khau-nguoi-dung-trong-co-so-du-lieu/blob/main/Anh/Adminql.jpg" alt="mÃ n hÃ¬nh Ä‘iá»n thÃ´ng tin" width="100%"><br>
      <strong>MÃ n hÃ¬nh Quáº£n lÃ½ cá»§a Admin</strong>
    </td>
    <td align="center">
      <img src="https://github.com/Thuhuyen8324/Ung-dung-SHA-va-Triple-DES-de-bao-mat-mat-khau-nguoi-dung-trong-co-so-du-lieu/blob/main/Anh/LoginLogs.jpg" alt="Káº¿t quáº£ tÃ­nh toÃ¡n" width="100%"><br>
      <strong>MÃ n hÃ¬nh giao diá»‡n Login Logs</strong>
    </td>
    </tr>
  <td align="center">
      <img src="https://github.com/Thuhuyen8324/Ung-dung-SHA-va-Triple-DES-de-bao-mat-mat-khau-nguoi-dung-trong-co-so-du-lieu/blob/main/Anh/thaypass.jpg" alt="mÃ n hÃ¬nh Ä‘iá»n thÃ´ng tin" width="100%"><br>
      <strong>MÃ n hÃ¬nh thay Ä‘á»•i Máº­t kháº©u</strong>
    </td>
  

